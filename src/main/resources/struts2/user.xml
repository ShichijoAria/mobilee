<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

    <package name="user" namespace="/user" extends="json-default">

        <!-- 配置拦截器 -->
        <interceptors>
            <interceptor name="LoginInterceptor" class="edu.xhu.mobilee.interceptor.LoginInterceptor"/>
            <!-- 一个拦截器栈中，可以包含多个拦截器的引用
                拦截器栈的引用和拦截器一致
             -->
            <interceptor-stack name="myStack">
                <!-- 引用拦截器 -->
                <interceptor-ref name="LoginInterceptor"/>
                <!-- 引用默认的拦截器栈 ；引用拦截器和引用拦截器栈的方式一样-->
                <interceptor-ref name="defaultStack"/>
            </interceptor-stack>
        </interceptors>
        <!-- 定义默认的拦截器/栈 -->
        <default-interceptor-ref name="myStack"/>

        <global-results>
            <result name="illegal">/WEB-INF/content/admin/login.jsp</result>
        </global-results>

        <action name="list" class="edu.xhu.mobilee.action.UserAction" method="list">
            <result type="json">
                <param name="root">dataMap</param>
            </result>
        </action>

        <action name="info" class="edu.xhu.mobilee.action.UserAction" method="info">
            <result type="json">
                <param name="root">dataMap</param>
            </result>
        </action>

        <action name="save" class="edu.xhu.mobilee.action.UserAction" method="save">
            <result type="json">
                <param name="root">dataMap</param>
            </result>
        </action>

        <action name="index" class="edu.xhu.mobilee.action.UserAction" method="index">
            <result>/WEB-INF/content/view/template.jsp</result>
        </action>

    </package>

</struts>